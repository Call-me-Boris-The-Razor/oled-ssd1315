# Changelog

Все значимые изменения в библиотеке OLED SSD1315.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

## [1.1.0] - 2025-01-09

### Изменено (Рефакторинг по аудиту)

- **Убрано динамическое выделение памяти** — `new`/`delete` заменены на статические поля
- **Добавлены `init()` методы** — отложенная инициализация для WireI2cAdapter, Ssd1315Driver, Gfx
- **Перенос internal headers** — внутренние заголовки в `include/oled/internal/`
- **Единый `OledConfig.hpp`** — централизованный флаг `OLED_ENABLED` и константы
- **Унификация условной компиляции** — все файлы используют `#if OLED_ENABLED`
- **Уменьшена задержка инициализации** — `delay(50)` → `delay(20)` без reset GPIO
- **Исправлены signed/unsigned warnings** — добавлены explicit casts

### Структура файлов

```text
include/oled/
├── OledConfig.hpp      (NEW) Единая конфигурация
├── OledTypes.hpp
├── OledSsd1315.hpp
└── internal/           (NEW) Внутренние компоненты
    ├── II2c.hpp
    ├── WireI2cAdapter.hpp
    ├── Ssd1315Driver.hpp
    ├── Ssd1315Commands.hpp
    └── Gfx.hpp
```

## [1.0.0] - 2024-01-09

### Добавлено

- Первый релиз библиотеки
- Поддержка контроллера SSD1315 (совместим с SSD1306)
- Размеры дисплея: 128×64, 128×32
- I2C транспорт через Arduino Wire
- Абстракция II2c для кастомных драйверов
- Драйвер SSD1315 с полной инициализацией
- Horizontal Addressing Mode для эффективной заливки буфера
- Charge Pump управление (internal/external VCC)
- Framebuffer с операциями:
  - `clear()` / `fill()`
  - `pixel()` — установка пикселя
  - `line()` — линия (алгоритм Брезенхэма)
  - `rect()` / `rectFill()` — прямоугольники
- Текстовый вывод:
  - Встроенный шрифт 5×7 (ASCII 32-126)
  - **Кириллица** А-Я, а-я, Ё, ё (тот же размер 5×7)
  - Полная поддержка UTF-8 строк
  - Масштабирование текста
  - `print()` и `printf()`
- Управление дисплеем:
  - `setPower()` — вкл/выкл с корректным управлением pump
  - `setContrast()` — контраст 0-255
  - `invert()` — инверсия цветов
- Условное включение через флаг `OLED_SSD1315_ENABLE`
- Заглушки при выключенной библиотеке
- Пример использования в `examples/basic/`
- Документация README.md

### Технические детали

- C++17 (минимум C++14)
- Без динамического выделения в рантайме (буфер статический)
- Все команды SSD1315 в constexpr
- Модульная архитектура: Transport → Driver → GFX → Facade
